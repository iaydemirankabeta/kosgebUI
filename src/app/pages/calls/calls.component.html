<div class="view-toggle w-100 d-inline-block p-3">
  <div class="float-end ">

  <button class="toggle-btn" [class.active]="currentView === 'list'" (click)="toggleView('list')"><i class="fa fa-list"></i></button>
  <button class="toggle-btn" [class.active]="currentView === 'grid'" (click)="toggleView('grid')"><i class="fa fa-th"></i></button>
  </div>
  
</div>

<ng-container  *ngIf="user$ | async as _user" >
    <div class="row" [ngStyle]="{ 'display': currentView === 'grid' ? 'flex' : 'none' }">
    <div class="col-md-4 col-xs-12" *ngFor="let item of trigClick">
        <div class="card p-2 text-center" >
            <p class="col-xs-12 " style="color:white;background-color: #c0392b;" *ngIf="item.isBoolean === 'false'"><b>{{item.isBoolean === 'false' ? 'Pasif' : ''}}</b></p>
            <div class="m-0 col-xs-12">
            <p style="float:left;margin:0;">
              <i class="fa-regular fa-bell"></i>
              <span> Teklifler: {{item.offer}} / {{item.totalOffer}}</span>
            </p>

            <div *ngIf="_user.roles! === 1" class="m-0" style="float:right;">
              <!--begin::Menu toggle-->
              <a href="javascript:;" class="btn btn-sm btn-flex fw-bold" data-kt-menu-trigger="click" style="padding: 0;"
                data-kt-menu-placement="bottom-end">
                <app-keenicon name="filter" class="fs-6 text-muted me-1"></app-keenicon>
                Güncelle ->
              </a>
              <!--end::Menu toggle-->
          
              <app-dropdown-menu1 [isBoolean]="item.isBoolean === 'true'"></app-dropdown-menu1>
            </div>

          </div>
          <hr/>
            <div class="card-header">
                <div class="w-100"><p class="title-sector" style="background-color: {{item.badgetColor}};">{{item.badget}}</p></div>
                <h3 style="margin:0 auto;">{{item.title}}</h3>
                <p class="tags">{{item.tags}}</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut eget ex risus. Proin lobortis lacus diam, sit amet dignissim elit sodales ac. Fusce eu hendrerit arcu, et sodales augue. Interdum et malesuada fames ac ante ipsum primis in faucibus. Praesent cursus interdum diam vitae luctus. Phasellus consequat eget tellus sed blandit. Sed bibendum vehicula lorem ac finibus. Pellentesque eget faucibus felis. Ut sagittis neque eu felis faucibus ullamcorper. Nunc a auctor risus, sit amet lobortis neque. Curabitur nisl eros, egestas eu vestibulum vitae, aliquam at elit. Nullam id efficitur libero, sed vehicula mi.
                </p>
            </div>
            <div class="card-body">
                <h5 class="text-upperCase"><b>{{item.badget}} Kullanıcısı Şirketin;</b></h5>
                <div>
                    <a class="btn btn-dark btn-active-bg-success col-12"   href="javascript:;" (click)="openModal(0)">Beklentileri</a>
                   
                </div>
            </div>
            <div class="card-footer">
              <a *ngIf="_user.roles! === 1" [routerLink]="['/create-call', item.id]" type="button" class="btn btn-warning" ><i class="fa-solid fa-pencil"></i> Düzenle</a>
              <a  [routerLink]="['/submitted-offers', item.id]" class="btn btn-success btn-margin" >Gelen Teklifler</a>

            </div>
        </div>
    </div>
    </div>
    <ul class="row list-group" [ngStyle]="{ 'display': currentView === 'list' ? 'flex' : 'none' }">
      <li class="col-md-12 col-xs-12 list-group-item mb-5" *ngFor="let item of trigClick">
          <div class="col-xs-12" style="display: flow-root;">
            <p class="col-xs-12 " style="color:white;background-color: #c0392b;" *ngIf="item.isBoolean === 'false'">{{item.isBoolean === 'false' ? 'Pasif' : ''}}</p>
            <div class="m-0 col-xs-12">
              <p style="float:left;">
                <i class="fa-regular fa-bell"></i>
                <span> Teklifler: {{item.offer}} / {{item.totalOffer}}</span>
              </p>

              <div  *ngIf="_user.roles! === 1" class="m-0" style="float:right;">
                <!--begin::Menu toggle-->
                <a href="javascript:;" class="btn btn-sm btn-flex fw-bold" data-kt-menu-trigger="click"
                  data-kt-menu-placement="bottom-end">
                  <app-keenicon name="filter" class="fs-6 text-muted me-1"></app-keenicon>
                  Güncelle ->
                </a>
                <!--end::Menu toggle-->
            
                <app-dropdown-menu1 *ngIf="_user.roles === 1" [isBoolean]="item.isBoolean === 'true'"></app-dropdown-menu1>
              </div>
           </div>
          </div>
          <div class="p-2 text-center " >
              <div>
                  <div class="w-100"><p class="title-sector" style="float:right;background-color: {{item.badgetColor}};">{{item.badget}}</p></div>
                  <h3 style="margin:0 auto;">{{item.title}}</h3>
                  <p class="tags">{{item.tags}}</p>
              </div>
              <div class="calls-content">
                  <h5 class="text-upperCase"><b>{{item.badget}} Kullanıcısı Şirketin;</b></h5>
                  <div class="col-xs-12 mb-4">
                      <a class="btn btn-dark btn-active-bg-success col-xs-12 " style="font-size:11px;"   href="javascript:;" (click)="openModal(0)">Beklentileri</a>

                  </div>
              </div>
              <div *ngIf="_user.roles === 1">
                <a  [routerLink]="['/create-call', item.id]" class="btn btn-warning" ><i class="fa-solid fa-pencil"></i>Düzenle</a>
                <a  [routerLink]="['/submitted-offers', item.id]" class="btn btn-success" >Gelen Teklifler</a>
              </div>
          </div>
        </li>
    </ul>
    <app-modal #modal [modalConfig]="modalConfig" aria-modal="true">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
              <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action"
                   *ngFor="let tab of tabs; let i = index"
                   [class.active]="i === activeTabIndex"
                   [id]="'list-' + tab.id + '-list'"
                   data-toggle="list"
                   role="tab"
                   [attr.aria-controls]="tab.id"
                   (click)="showTabContent(i)">
                  {{ tab.label }}
                </a>
              </div>
        
        </div>
        <div class="col-md-8">
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade"
                 *ngFor="let tab of tabs; let i = index"
                 [class.show]="i === activeTabIndex"
                 [class.active]="i === activeTabIndex"
                 [id]="tab.id"
                 role="tabpanel"
                 [attr.aria-labelledby]="'list-' + tab.id + '-list'">
              <p>{{ tab.content }}</p>
              
            </div>
          </div>
        </div>
      </div>
      </div>
    </app-modal>
</ng-container>
